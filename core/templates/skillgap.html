{% extends 'base.html' %}
{% block content %}

    <header class="bg-gradient-to-r from-blue-500 to-indigo-600 shadow-lg py-6">
        <div class="container mx-auto flex justify-between items-center p-6 text-white">
            <h1 class="text-3xl font-bold">Employee Skill Gap Analytics</h1>
            <div class="flex space-x-4">
                <button class="bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-200">Export Report</button>
                <button class="bg-gray-300 text-gray-800 px-4 py-2 rounded-lg font-semibold hover:bg-gray-400">Settings</button>
            </div>
        </div>
    </header>

    <div class="container mx-auto mt-6 flex gap-6">
        <!-- Filters Panel -->
        <aside class="w-1/4 bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold mb-4">Filters</h2>
            <div class="space-y-4">
                <div>
                    <label class="block text-gray-700">Department</label>
                    <select class="form-select mt-1 block w-full border-gray-300 rounded">
                        <option>All Departments</option>
                        <option>Sales</option>
                        <option>Engineering</option>
                        <option>Human Resources</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700">Role</label>
                    <select class="form-select mt-1 block w-full border-gray-300 rounded">
                        <option>All Roles</option>
                        <option>Manager</option>
                        <option>Team Lead</option>
                        <option>Staff</option>
                    </select>
                </div>
                <div>
                    <label class="block text-gray-700">Skill Category</label>
                    <select class="form-select mt-1 block w-full border-gray-300 rounded">
                        <option>All Categories</option>
                        <option>Technical</option>
                        <option>Soft Skills</option>
                        <option>Leadership</option>
                    </select>
                </div>
                <button class="bg-blue-500 text-white px-4 py-2 rounded w-full hover:bg-blue-600">Apply Filters</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1">
            <!-- Key Metrics Overview -->
            <section class="grid grid-cols-3 gap-6 mb-6">
                <div class="bg-gradient-to-r from-green-400 to-blue-500 p-6 rounded-lg shadow-lg text-white">
                    <h3 class="text-lg font-medium">Total Skill Gaps Identified</h3>
                    <p class="text-3xl font-bold">24</p>
                    <p class="text-sm">
                        <span class="text-green-200">▲ 5%</span> from last month
                    </p>
                </div>
                <div class="bg-gradient-to-r from-red-400 to-pink-500 p-6 rounded-lg shadow-lg text-white">
                    <h3 class="text-lg font-medium">Employees Assessed</h3>
                    <p class="text-3xl font-bold">150</p>
                    <p class="text-sm">
                        <span class="text-red-200">▼ 2%</span> from last month
                    </p>
                </div>
                <div class="bg-gradient-to-r from-purple-400 to-indigo-500 p-6 rounded-lg shadow-lg text-white">
                    <h3 class="text-lg font-medium">Training Programs Completed</h3>
                    <p class="text-3xl font-bold">45</p>
                    <p class="text-sm">
                        <span class="text-green-200">▲ 8%</span> from last month
                    </p>
                </div>
            </section>

            <!-- Skill Gap Analysis Chart -->
            <section class="bg-white p-6 rounded-lg shadow-lg mb-6">
                <h2 class="text-xl font-semibold mb-4">Skill Gap Analysis</h2>
                <canvas id="skillGapChart" class="w-full h-64"></canvas>
            </section>

            <!-- Employee Assessment Table -->
            <section class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-xl font-semibold mb-4">Employee Skill Assessment</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                        <thead>
                            <tr class="bg-gray-200 text-gray-700">
                                <th class="py-2 px-4 border-b">Employee Name</th>
                                <th class="py-2 px-4 border-b">Department</th>
                                <th class="py-2 px-4 border-b">Role</th>
                                <th class="py-2 px-4 border-b">Skill</th>
                                <th class="py-2 px-4 border-b">Current Proficiency</th>
                                <th class="py-2 px-4 border-b">Required Proficiency</th>
                                <th class="py-2 px-4 border-b">Gap</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="text-gray-700">
                                <td class="py-2 px-4 border-b">John Doe</td>
                                <td class="py-2 px-4 border-b">Engineering</td>
                                <td class="py-2 px-4 border-b">Software Engineer</td>
                                <td class="py-2 px-4 border-b">JavaScript</td>
                                <td class="py-2 px-4 border-b">Intermediate</td>
                                <td class="py-2 px-4 border-b">Advanced</td>
                                <td class="py-2 px-4 border-b text-red-500">-1 Level</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Chart.js Data Visualization
        const ctx = document.getElementById('skillGapChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Technical', 'Soft Skills', 'Leadership', 'Communication', 'Project Management'],
                datasets: [{
                    label: 'Skill Gaps',
                    data: [12, 9, 5, 7, 3],
                    backgroundColor: ['#4CAF50', '#FF9800', '#3F51B5', '#E91E63', '#009688'],
                }]
            }
        });
    </script>

{% endblock %}
